/* client/src/App.css
   Full app stylesheet with theme support and variables.
   Paste this file over your existing App.css
*/

/* ---------- variables & base (defaults) ---------- */
:root{
  /* default theme (keeps your current look if no theme class is set) */
  --bg:#0f1724;
  --card:#0b1220;
  --muted:#9aa4b2;
  --accent-a:#06b6d4;
  --accent-b:#7c3aed;
  --glass: rgba(255,255,255,0.03);
  --radius:14px;
  --text: #e6eef6;
  --focus: #22d3ee;
  color-scheme: dark;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* ------------------ THEME CLASSES ------------------
   Add one of these classes to <html>
   e.g. document.documentElement.classList.add('theme-solarized')
---------------------------------------------------*/

/* Solarized Dark */
.theme-solarized {
  --bg: #002b36;
  --card: #073642;
  --muted: #839496;
  --accent-a: #268bd2;
  --accent-b: #b58900;
  --glass: rgba(255,255,255,0.02);
  --text: #fdf6e3;
  --focus: #2aa198;
}

/* Midnight Teal */
.theme-midnight {
  --bg: #0f1720;
  --card: #111827;
  --muted: #94a3b8;
  --accent-a: #06b6d4;
  --accent-b: #7c3aed;
  --glass: rgba(255,255,255,0.03);
  --text: #e6eef6;
  --focus: #22d3ee;
}

/* Sunset Warm */
.theme-sunset {
  --bg: #1b0f2b;
  --card: #2a153e;
  --muted: #c7b6c7;
  --accent-a: #ff6b6b;
  --accent-b: #ffa94d;
  --glass: rgba(255,255,255,0.02);
  --text: #fff1f1;
  --focus: #ff9f1c;
}

/* Lavender Night */
.theme-lavender {
  --bg: #0e0512;
  --card: #1a1321;
  --muted: #b8a9c9;
  --accent-a: #9b8cff;
  --accent-b: #ff7ac6;
  --glass: rgba(255,255,255,0.02);
  --text: #f7f3ff;
  --focus: #c79cff;
}

/* Mint Retro */
.theme-mint {
  --bg: #071b17;
  --card: #0b2b25;
  --muted: #9ad6c8;
  --accent-a: #34d399;
  --accent-b: #06b6d4;
  --glass: rgba(255,255,255,0.02);
  --text: #e8fff7;
  --focus: #2dd4bf;
}

/* smooth theme transitions */
:root, html, body, #root {
  transition: background-color 240ms ease, color 240ms ease;
}

/* ---------- reset / box-sizing ---------- */
* { box-sizing: border-box; }

/* ---------- root + background (theme-driven) ---------- */
html, body, #root {
  height: 100%;
  margin: 0;
  color: var(--text);

  /* let theme variables control background and surface depth */
  background: linear-gradient(180deg, var(--bg), var(--card) 45%, var(--bg) 100%);
  background-color: var(--bg);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ---------- app shell ---------- */
.app-root { min-height:100vh; display:flex; flex-direction:column; }

/* topbar */
.topbar{
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 28px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  background-color: rgba(255,255,255,0.01);
  backdrop-filter: blur(6px);
}
.brand{ font-weight:700; font-size:18px; letter-spacing:0.6px; color:var(--text); }
.top-actions { display:flex; gap:12px; align-items:center; }
.top-right { display:flex; gap:12px; align-items:center; }

/* participant pill */
.participant-pill {
  background: rgba(255,255,255,0.02);
  padding:8px 12px; border-radius:10px; color:var(--muted); font-weight:600; font-size:13px;
  border: none; cursor: pointer;
}

/* ---------- main / hero (fullscreen) ---------- */
.main {
  flex: 1 1 auto;
  min-height: calc(100vh - 72px);
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* hero */
.hero{
  width: min(1100px, calc(100% - 64px));
  max-width: 1100px;
  min-height: calc(100vh - 120px);
  margin: 0;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  background-color: var(--card);
  border-radius:16px;
  padding:48px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.6);
  border: 1px solid rgba(255,255,255,0.03);
}
.title{ margin:0; font-size:32px; font-weight:800; color:var(--text); }
.subtitle{ margin:10px 0 18px 0; color:var(--muted); font-size:15px; }

/* controls */
.controls-vertical { display:flex; flex-direction:column; gap:18px; margin-top:8px; align-items:flex-start; }
.control-row { width:100%; }
.btn-block { width:100%; display:inline-flex; justify-content:center; align-items:center; }

/* input */
.join-box{ display:flex; gap:8px; align-items:center; width:100%; }
.join-box input{
  background:var(--glass);
  border: 1px solid rgba(255,255,255,0.03);
  color:inherit;
  padding:12px 14px;
  border-radius:10px;
  width:320px;
  outline:none;
}

/* tip */
.help{ margin-top:14px; color:var(--muted); font-size:13px; }

/* ---------- buttons ---------- */
.btn{
  background: transparent;
  border: none;
  padding:10px 14px;
  border-radius:10px;
  color: var(--text);
  cursor:pointer;
  font-weight:700;
  transition: transform .12s ease;
  box-shadow: 0 6px 14px rgba(2,6,23,0.6);
}
.btn:hover { transform: translateY(-2px); }
.btn-primary{
  background: linear-gradient(90deg, var(--accent-a), var(--accent-b));
  padding:12px 18px;
  border-radius:12px;
  color:#061325;
  box-shadow: 0 10px 30px rgba(12,21,40,0.6);
  font-weight:800;
  letter-spacing:0.4px;
}
.btn-outline{
  background: transparent;
  border: 1px solid rgba(255,255,255,0.06);
  padding:8px 12px;
  border-radius:10px;
  color:var(--text);
}
.btn-ghost{ background: transparent; color: var(--muted); }

/* ---------- room layout ---------- */
.room{ width:1100px; max-width:calc(100% - 48px); display:flex; flex-direction:column; gap:12px; }
.room-header{
  display:flex; justify-content:space-between; align-items:center;
  padding:16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.015), transparent);
  background-color: rgba(255,255,255,0.01);
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.03);
}
.room-id-label{ font-size:11px; color:var(--muted); }
.room-id-value{ font-weight:700; font-size:18px; letter-spacing:1px; margin-top:4px; color:var(--text); }
.room-actions { display:flex; gap:10px; align-items:center; }

/* two-column grid */
.room-content.two-col {
  display: grid;
  grid-template-columns: 1fr 320px;
  column-gap: 24px;
  align-items: start;
  width: 100%;
  box-sizing: border-box;
  overflow: hidden;
  padding-top: 12px;
}
.video-col { width: 100%; min-width: 0; z-index: 0; }
.video-col video, .video-col .video-wrapper { width: 100%; height: auto; max-width: 100%; display: block; margin-bottom: 18px; border-radius: 8px; }
.side-col { width:320px; display:flex; flex-direction:column; gap:12px; z-index: 1; }

/* panel (use --card as base) */
.panel{
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  background-color: var(--card);
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.02);
  position: relative;
  margin:0;
}
.panel-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }
.panel-title{ font-weight:700; color:var(--text); }
.panel-sub{ font-size:12px; color:var(--muted); }

/* ---------- chat ---------- */
.chat-window {
  height:420px;
  overflow:auto;
  padding:12px;
  display:flex;
  flex-direction:column;
  gap:12px;
  background: rgba(255,255,255,0.01);
  background-color: rgba(255,255,255,0.01);
  border-radius:8px;
  border: 1px solid rgba(255,255,255,0.02);
}
.chat-msg { font-size:14px; color:var(--text); }
.chat-meta { color:var(--muted); font-size:13px; }
.chat-input-row{ margin-top:8px; display:flex; gap:8px; align-items:center; }
.chat-input{ flex:1; padding:10px; border-radius:8px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:inherit; outline:none; }

/* ---------- profile ---------- */
.profile-btn { width:40px; height:40px; border-radius:12px; display:inline-flex; align-items:center; justify-content:center; padding:4px; border:none; background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent); cursor:pointer; transition: transform .08s ease; box-shadow: 0 6px 18px rgba(2,6,23,0.6); }
.profile-btn:hover { transform: translateY(-2px); }
.profile-btn-img { width:36px; height:36px; border-radius:8px; object-fit:cover; display:block; }
.profile-btn-initials { width:36px; height:36px; border-radius:8px; display:flex; align-items:center; justify-content:center; background: linear-gradient(90deg,var(--accent-a),var(--accent-b)); color:#061325; font-weight:700; }
.profile-btn-icon { color: var(--muted); }
/* STRONGER SOLID PROFILE POP */
.profile-pop {
  position: absolute;
  right: 0;
  top: 50px;
  width: 320px;

  background: var(--card);          /* Solid card background */
  border-radius: 12px;
  padding: 14px;

  border: 1px solid rgba(255,255,255,0.06);

  /* Stronger elevation */
  box-shadow: 0 12px 32px rgba(0,0,0,0.55);

  /* Always on top */
  z-index: 5000;

  /* Remove transparency completely */
  backdrop-filter: none;
}

.profile-pop input[type="file"] { display:none; }

/* participants pop */
/* STRONGER PARTICIPANT LIST POPUP */
.participants-pop {
  position: absolute;
  right: 0;
  top: 46px;
  width: 260px;

  background: var(--card);      /* Solid background */
  border-radius: 12px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,0.06);

  /* deeper clearer shadow */
  box-shadow: 0 12px 32px rgba(0,0,0,0.55);

  /* appear above everything */
  z-index: 5000;

  backdrop-filter: none;  /* remove blur/transparency */
}

.participants-pop img { border-radius:6px; }

/* footer */
.footer{
  padding:12px 18px;
  text-align:center;
  font-size:13px;
  color:var(--muted);
  border-top:1px solid rgba(255,255,255,0.02);
  background-color: transparent;
}

/* ---------- responsive ---------- */
@media (max-width: 980px) {
  .hero { padding: 28px; min-height: auto; width: calc(100% - 36px); }
  .main { padding: 20px; align-items: flex-start; }
  .room-content.two-col { grid-template-columns: 1fr; }
  .side-col { width: 100%; }
  .video-col { min-width: 0; }
}
@media (max-width: 720px) {
  .hero { width: calc(100% - 24px); padding: 20px; border-radius:12px; }
  .join-box input { width: 160px; }
}

/* host badge */
.host-badge {
  background: #ffb86b;
  color: #1b1b1b;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 700;
  font-size: 12px;
}
/* ---------- overlay + popup animation ---------- */

/* overlay shown behind popups (just under the popup) */
.popup-overlay {
  position: fixed;
  inset: 0; /* top:0; right:0; bottom:0; left:0 */
  background: rgba(0, 0, 0, 0.48);
  z-index: 10000; /* behind popup, above all app content */
  animation: overlayFadeIn 180ms ease both;
}

/* keep the existing pop animation class */
.pop-animate {
  animation: popSlideUp 200ms cubic-bezier(.2,.9,.2,1) both;
  transform-origin: top right;
}

/* PROFILE POPUP - fixed so it is always above chat (use top/right that match your topbar) */
.profile-pop.pop-animate,
.profile-pop {
  position: fixed;      /* FIXED -> escapes stacking contexts */
  top: 70px;            /* adjust if your topbar height differs */
  right: 28px;          /* align with header padding */
  width: 320px;
  background: var(--card);
  border-radius: 12px;
  padding: 14px;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 12px 32px rgba(0,0,0,0.55);
  z-index: 10050;       /* above overlay */
  backdrop-filter: none;
}

/* PARTICIPANTS POPUP - fixed as well; slightly lower top to align with button if needed */
.participants-pop.pop-animate,
.participants-pop {
  position: fixed;
  top: 70px;            /* same top as profile popup; tweak if you want it lower */
  right: 180px;         /* move left from right edge so it sits near participants button; tweak if needed */
  width: 300px;
  background: var(--card);
  border-radius: 12px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 12px 32px rgba(0,0,0,0.55);
  z-index: 10050;
  backdrop-filter: none;
}

